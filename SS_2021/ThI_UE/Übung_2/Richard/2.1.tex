% --------------------------------------------------------------------------------

\begin{exercise}

Sei $L = \Bbraces{w c^n \mid w \in \Bbraces{a, b}^\ast, n_a(w) = n ~\text{oder}~ n_b(w) = n}$.
Geben Sie eine kontextfreie Grammatik an die $L$ erzeugt.

\end{exercise}

% --------------------------------------------------------------------------------

\begin{solution}

Zwecks besseren Verständnisses, listen wir die Elemente von $L$ für verschiedene $n \in \N$ auf.
Dabei bezeichnet $x \cdot x = x^m$ für irgendein beliebiges $m \in \N$.
Wenn der Ausdruck mehrmals vorkommt, dürfen die $m$ auch unterschiedlich sein.

\begin{itemize}

    \item $n = 0$:
    
    \begin{align*}
        a \cdots a \\
        b \cdots b \\
    \end{align*}

    \item $n = 1$:
    
    \begin{align*}
        (a \cdots a) b (a \cdots a) c \\
        (b \cdots b) a (b \cdots b) c \\
    \end{align*}

    \item $n = 2$:
    
    \begin{align*}
        (a \cdots a) b (a \cdots a) b (a \cdots a) c^2 \\
        (b \cdots b) a (b \cdots b) a (b \cdots b) c^2 \\
    \end{align*}

    \item $n \in \N$:
    
    \begin{align*}
        \underbrace
        {
            ((a \cdots a) b)
            \cdots
            ((a \cdots a) b)
        }_{
            \text{$n$-mal}
        }
        (a \cdots a)
        c^n \\
        \underbrace
        {
            ((b \cdots b) a)
            \cdots
            ((b \cdots b) a)
        }_{
            \text{$n$-mal}
        }
        (b \cdots b)
        c^n \\
    \end{align*}
\end{itemize}

Wir wollen nun all diese Wörter systematisch aufbauen, mit einem endlichem Regelwerk $P$.
Sei dabei aber o.B.d.A. $n \neq 0$.

\begin{gather*}
    S \to X^n C^n \mid Y^n C^n, \\
    X \to X B \mid B X, \quad Y \to Y A \mid A Y, \\
    A \to a, \quad B \to b, \quad C \to c
\end{gather*}

Die kontextfreie Grammatik $G = \abraces{N, T, P, S}$ erzeugt $L$.

\begin{align*}
    N = \Bbraces{S, X, Y, A, B, C},
    \quad
    T = \Bbraces{a, b, c}
\end{align*}

\end{solution}

% --------------------------------------------------------------------------------
